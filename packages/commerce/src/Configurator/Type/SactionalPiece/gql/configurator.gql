# @package     BlueAcorn/Configurator
# @author      Blue Acorn iCi <code@blueacorn.com>
# @copyright   Copyright Â© Blue Acorn iCi. All Rights Reserved.

query Configurator {
    options: configurator(type: "sactionalPiece") {
        priceRules {
            name
            priority
            action
            skus
            minQty
            discount
            categoryIds
        }
        preBuilt {
            name
            items {
                code
                name
                image
                vrayId
                webglId
                pieces {
                    key
                    type
                    qty
                }
            }
        }
        pieceInfo {
            key
            type
            name
            description
            includes
        }
        options {
            piece {
                ...Piece
            }
            name
            shortDescription
            description
            includes
            images
        }
        inserts {
            code
            name
            image
            description
            pieces {
                ...Piece
            }
        }
        accessories {
            piece {
                ...Piece
            }
            name
            description
            images
            group
            swatch
        }
        fabrics {
            code
            name
            description
            shipping
            groups {
                name
                items {
                    id
                    name
                    image
                    color
                    fabric
                    composition
                    description
                    features {
                        name
                        image
                    }
                    pieces {
                        ...Piece
                    }
                }
            }
        }
        assets {
            label
            large
            thumb
            tags
        }
    }
}

fragment Piece on C_Piece {
    key
    type
    categoryIds
    leadTime
    price
    msrp
    sku
}
